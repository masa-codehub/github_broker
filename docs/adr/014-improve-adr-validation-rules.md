# 概要 / Summary
[ADR-014] ドキュメント検証規約の改善

- **Status**: 提案中
- **Date**: 2025-10-23

## 状況 / Context

現在のドキュメント検証スクリプト (`scripts/validate_docs.py`) は、ADRおよびDesign Docファイルに、ごく基本的なセクションが存在することのみをチェックしています。しかし、これだけではドキュメントの品質を保証するには不十分であることが、最近の複数のコミットエラーから判明しました。

現在の規約には、意思決定の追跡可能性や検証可能性に不可欠なセクション（例: `Status`, `Verification Criteria`）のチェックが欠けています。このままでは、形骸化したドキュメントが生まれるリスクや、後から設計の背景や実装状況を追うのが困難になるという課題があります。

一貫性のある高品質なドキュメントをプロジェクト全体で維持するため、ADRとDesign Docの両方について、検証規約を強化する必要があります。

## 決定 / Decision

ドキュメントの品質、追跡可能性、検証可能性を向上させるため、検証スクリプト (`scripts/validate_docs.py`) がチェックする必須項目を、ADRとDesign Docそれぞれについて以下の通り拡張・定義します。

### 1. ADR (`docs/adr/*.md`) の新しい必須セクション

1.  `# 概要 / Summary`
2.  `- **Status**:`
3.  `- **Date**:`
4.  `## 状況 / Context`
5.  `## 決定 / Decision`
6.  `## 結果 / Consequences`
7.  `## Verification Criteria (検証基準)`
8.  `## Implementation Status (実装状況)`

### 2. Design Doc (`docs/design-docs/*.md`) の新しい必須セクション

1.  `# 概要 / Overview`
2.  `## 背景と課題`
3.  `## ゴール / Goals`
4.  `## 設計 / Design`
5.  `## 考慮事項 / Considerations` (代替案、セキュリティ、プライバシーなどを含む)
6.  `## 検証基準 / Verification Criteria`

検証スクリプトは、各ドキュメントタイプに対応する上記セクションの文字列が、ファイル内に完全に一致する形で含まれていることを保証するように修正されます。

## 結果 / Consequences

### メリット (Positive consequences)

- **ドキュメント品質の標準化:** ADRとDesign Docの両方で、高品質なドキュメントフォーマットが保証されます。
- **追跡可能性と検証可能性の向上:** `Status`や`検証基準`などが必須となることで、すべての設計決定が追跡・検証可能になります。
- **規約の明確化:** 作成者が従うべきルールが明確になり、ドキュメント作成の効率と質が向上します。

### デメリット (Negative consequences)

- **ドキュメント作成の厳格化:** ドキュメント作成時の手間がわずかに増加しますが、これは品質向上のための健全なトレードオフです。

## Verification Criteria (検証基準)

この意思決定が正しく実装されたことは、以下の方法で確認できます。

- 新しい検証規約に準拠していないADRまたはDesign Docファイルをコミットしようとすると、`pre-commit`フックがエラーを出力して失敗すること。
- 新しい検証規約の必須セクションをすべて満たしたADRおよびDesign Docファイルは、コミットが成功すること。

## Implementation Status (実装状況)
未着手