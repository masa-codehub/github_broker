# 階層的要件管理ワークフロー

このドキュメントは、プロダクト開発における要求管理プロセスを標準化し、目的から実装までのトレーサビリティを確保するためのワークフローを定義します。

## 概要

我々は、要件を以下の3つの階層で管理します。

- **Epic:** プロダクトの大きなビジネス目標やテーマを表します。
- **Story:** ユーザーにとって価値のある、独立した機能要件を記述します。
- **Task:** Storyを実現するための、具体的な開発作業や技術的タスクを定義します。

この階層構造により、大きな目標（Epic）が、具体的な機能（Story）に分解され、さらに実行可能な作業（Task）へと落とし込まれるプロセスを可視化します。

---

## 1. Epic

### 目的
Epicは、複数のスプリントにまたがる可能性のある、大規模なビジネス目標を管理するための単位です。これは具体的な機能仕様ではなく、「何を実現したいのか」という戦略的な目的を示します。

### 運用ルール
- **命名規則:** `【Epic】<目標の要約>` (例: `【Epic】ユーザー認証基盤の刷新`)
- **ラベル:** `epic`
- **担当者:** Product Owner または SYSTEM_ARCHITECT
- **完了条件:** Epicに含まれる全てのStoryが完了したとき。

### Issueテンプレート例

```markdown
## 概要 (Summary)
このEpicは、[プロダクトのXXという領域]における[YYというビジネス価値]を実現することを目的とします。

## 背景 (Background)
- [なぜこの目標に取り組むのか]
- [関連する市場の動向やユーザーからのフィードバック]

## ゴール (Goal)
- [このEpicが完了したときに達成されている状態]
- [主要な成功指標（KPIなど）]

## 関連Story
- #123
- #124
```

---

## 2. Story

### 目的
Storyは、ユーザーにとって具体的な価値を提供する最小単位の機能要件です。これは、開発チームが1スプリント内で完了できる規模であることが理想です。

### 運用ルール
- **命名規則:** `【Story】<ユーザー価値を表す要約>` (例: `【Story】ソーシャルログイン機能の追加`)
- **ラベル:** `story`
- **担当者:** 開発チーム
- **完了条件:**
    - 機能が実装され、テストが完了していること。
    - 受け入れ基準（Acceptance Criteria）をすべて満たしていること。
- **紐付け:** 必ず1つのEpicに紐付きます。Issue本文で `このストーリーは、Epic #XXX の一部です。` のように記述してください。

### Issueテンプレート例

```markdown
このストーリーは、Epic #XXX の一部です。

## 背景 (Background)
[この機能が必要とされるに至った経緯や、解決したいユーザーの課題]

## 目的 (Goal)
[このStoryが提供する具体的なユーザー価値]

## 完了条件 (Acceptance Criteria)
- [ ] [ユーザーがXXできること]
- [ ] [YYという条件下で、ZZという結果になること]
- [ ] [パフォーマンスやセキュリティに関する非機能要件]

## 成果物
- [設計ドキュメントのパス]
- [実装コードのパス]
```

---

## 3. Task

### 目的
Taskは、Storyを技術的に実現するための具体的な作業項目です。これは、エンジニアが実装に着手するための明確な指示となります。

### 運用ルール
- **命名規則:** `【Task】<具体的な作業内容>` (例: `【Task】Google OAuth認証APIのクライアント実装`)
- **ラベル:** `task`
- **担当者:** 担当エンジニア
- **完了条件:**
    - 実装が完了し、コードレビューが承認されていること。
    - 単体テストが実装され、パスしていること。
- **紐付け:** 必ず1つのStoryに紐付きます。Issue本文で `このタスクは、Story #YYY の一部です。` のように記述してください。

### Issueテンプレート例

```markdown
このタスクは、Story #YYY の一部です。

## 目的 (Goal)
[このタスクが担当する具体的な技術的実装範囲]

## 実装方針 (Implementation Plan)
1. [使用するライブラリやフレームワーク]
2. [クラスや関数の設計概要]
3. [データベースのスキーマ変更（もしあれば）]

## 完了条件 (Acceptance Criteria)
- [ ] [XXクラスにYYメソッドが実装されていること]
- [ ] [ZZのAPIエンドポイントが期待通りに動作すること]
- [ ] [単体テストがXXのケースをカバーしていること]

## 成果物
- [Pull RequestのURL]
```
